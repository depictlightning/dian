# 学习日志

写在前面：

​		之前在暑假无意间在某乎上看到了华科三大互联网团队。**在经过和dian学长的交流和对dian微信公众号一些文章的阅读之后更是觉得dian可能是最适合我的团队。于是在暑假先看翁恺的视频学到了for,while循环，又在企业微信发布招新的第一时间加入了qq群		了。也许远远比不上群里发言的优秀的同龄人，但我觉得自己愿意不断学习也有足够的热情、精力去一点点进步，希望能加入dian！

PS：**之后根据自己的实际情况学习了一些文档中没有提到的内容，就是有关流程图和bug调试方法、Stack Overflow的学习**，具体在Level1-3中详细阐述。

​	==所有没有加粗或高亮的很多都是自存内容，可以快速跳过==

## Level0-1

git（分布式控制系统）学习

1. git好处  

   * **记录每次文档的改动**

   * 分布式管理系统

2. ==核心命令==

   * git init 库初始化

   * ![image-20230903131325770](C:\Users\86150\AppData\Roaming\Typora\typora-user-images\image-20230903131325770.png)

   * 注意事项：git commit -m"中间可以添加每次更改的信息"

   * 版本查询：git diff  查看每次改动的细节

   * 历史记录查询：git log 查看git commit -m提交的信息
            PS: log后面加入--pretty=oneline（可以简化信息查看)

   * 收获：
        * 曾经看了菜鸟教程，廖雪峰教程还有b站好几个视频，感觉自己都没有理解清楚，直到看到一个b站教程用上述这张图片一下就让我明白了理解了整个过程，把体系构建起来。**可视化与合适的视频挑选真的很重要，能节省大量时间**

   * **问题**：**为什么git要有暂存区，直接git commit 不行吗？**

        网上解决：使用git时候是否都是所有的修改全部提交了，根本没有考虑到多个修改文件，是和多个功能有关，而**每一个功能应该单独做成一次提交**，这样可以保证提交历史的清晰。否则，当你想要回滚历史的时候，你会无所适从，根本分不清每个版本包含了哪些功能，修复了哪些bug.而暂存区的作用就是为了，**可以选择提交**，比如你在开发B功能的时候，发现A功能还存在Bug，这时候就需要先修复A中的Bug，然后先提交修复的A中的Bug,然后再提交B功能开发的文件。**这样就可以提高提交版本历史记录的清晰，方便回滚**。而**提交是原子性操作，文件的选择就交于暂存区去做**，每一次提交都是一个完整的功能开发，保证commit的干净，降低commit的粒度
        原文链接：https://blog.csdn.net/qq_41936422/article/details/103896755

        ​		

3. 补充

   1. ==发现在vscode中使用git 比直接在终端使用简单不少==，还有诸多与git有关的插件（暂时还没用过）
## Level0-2
1. **C语言学习**

* **程序优化：**

  (1) 先分再总引入一些小变量会使程序易于编写

  (2) 计算之前先保存原始的值，后面可能有用

  (3) 要先考虑极限情况（非常多种）

  (4) 变量引入

  ① 引入控制变量（使其赋值为0 or 1）来判断for循环等的一些，eg.素数判断

  ② 引入变量sign使其每次循环变成-sign从而实现正负交替的效果

  (5) goto 函数退出所有循环
  break一次只能退一个循环
  continue结束此处条件判断的语句进入下一次循环

  (9) 对于比较难的问题怎么思考

  ① 先简化问题
  eg.水仙花数是指一个N位正整数(N>=3)，它的每个位上的数字的N次幂之和等于它本身。例如:153 = 13+53+ 33。本题要求编写程计算所有N位水仙花数。

  输入格式:输入在一行中给出一个正整数N( 3<=N<=7)。

  按递增顺序输出所有N位水仙花数，每个数字占一行。

  解答：一时间想不出怎么用上N,先想一想当N确定，比如是3是，此时用for循环遍历（100-999）即可，再想如何实现3到三位数转换

* **需要注意的点**

  (1) 对于count之类的数要记得int count = 0 否则count会变得乱七八糟的数

  (2) scanf对浮点数的描述要用lf%(不是i的大写I,而是L的小写l

  printf用%e表示用科学记数法来表示浮点数
  	1e-10表示1*10负十次方
  	如果要表达double类型的16位小数，要%.16f（4舍6入5判）否则会输出0.000000
  ![img](file:///C:\Users\86150\AppData\Local\Temp\ksohtml18496\wps1.jpg)

  (3) if判断要用 ==不是=。血泪教训，调试了一个上午

  (4) \t相当于一个tab的作用，\b相当于回车的作用

  (5) 逻辑运算![img](file:///C:\Users\86150\AppData\Local\Temp\ksohtml18496\wps2.jpg)

  (6) 函数如果要赋值就用int作为头文件,并且在最后加上return+那个值，只是运算就用void +函数名()，如果该函数没有变量就用void+函数名void()  

  (7) C语言只能传值给函数，不能做交换之类的事（除非使用指针）

  (8) scanf的&容易漏，且调试根本不显示问题

  (9) 函数中的值算完了，要记得在开头加一句变量归零，否则每次循环都会累加

  (10) 记得if语句中的的东西不能一直进行，用break等语句结束，否则将会死循环，不显示任何结果。或者用else

  (11) 转换浮点数可以采用*1.0的方式	
  
  
2. **源代码→可执行文件**

* 步骤（以gcc为例）

  * 预处理（.i文件）	宏替换处理、条件编译、头文件包含处理 通过gcc -E <文件名>.c -o <新的文件名> .i 转换为.i文件
  * 编译    （.s文件）   进行一系列的词法分析、语法分析、语义分析和优化，转化为低级机器语言指令                  
                                                                                                                                                                                                                                                                                                                                                                -S                                                  .s
  * 汇编      (.o文件)       汇编过程将上一步的汇编代码转换成机器码，这一步产生的文件叫做目标文件，是二进制格式    -c .o                                                                                                                     
  * 链接      (.out文件)     各种代码和数据片段收集并组合成为一个单一文件的过程，这个文件可被加载（复制）到内存并执行                                                                                   -o

* 实践
  ```c
  //源文件Level_0-2.c
  #include<stdio.h>
  int main()
  {
  	printf("%s","dian is the best");
  	return 0;	
  }
  ```

**预处理**

* 通过gcc -E Level_0-2.c -o Level_0-2.i转换为.i 文件
* 在git bash中使用cat命令查看.i文件内容，部分内容如下：
```c
__attribute__ ((__dllimport__)) size_t __attribute__((__cdecl__)) _fread_nolock_s(void *_DstBuf,size_t _DstSize,size_t _ElementSize,size_t _Count,FILE *_File);
# 1398 "D:/computer programming/app/mingw64/x86_64-w64-mingw32/include/stdio.h" 2 3

# 1 "D:/computer programming/app/mingw64/x86_64-w64-mingw32/include/_mingw_print_pop.h" 1 3
# 1400 "D:/computer programming/app/mingw64/x86_64-w64-mingw32/include/stdio.h" 2 3
# 2 "Level_0-2.c" 2

# 2 "Level_0-2.c"
int main()
{
 printf("%s","dian is the best");
 return 0;
}
```

​		疑问：虽然知道预处理阶段会进行宏替换处理、条件编译、头文件包含处理，但不明白最上面代码进行的是哪部操作，时间原因暂时跳过

**编译**

* 通过gcc -S Level_0-2.c -o Level_0-2.i转换为.s文件
* 内容如下：

```C
main:
        pushq   %rbp
        .seh_pushreg    %rbp
        movq    %rsp, %rbp
        .seh_setframe   %rbp, 0
        subq    $32, %rsp
        .seh_stackalloc 32
        .seh_endprologue
        call    __main
        leaq    .LC0(%rip), %rdx
        leaq    .LC1(%rip), %rcx
        call    printf
        movl    $0, %eax
        addq    $32, %rsp
        popq    %rbp
        ret
        .seh_endproc
        .ident  "GCC: (x86_64-win32-seh-rev0, Built by MinGW-W64 project) 8.1.0"
        .def    printf; .scl    2;      .type   32;     .endef
```
**汇编**
* ​				内容如下


```
     * d▒.text0,▒ P`.data@P▒.bss▒P▒.rdata \@P@.xdata
           |@0@.pdata
       ▒▒H▒▒ ]Ð▒▒▒▒dian is the best2P+GCC: (x86_64-win32-seh-rev0, Built by MinGW-W64 project) 8.1.0
     
     .file▒▒gLevel_0-2.cmain .text+.data.bss.rdata.xdata
                                                        .pdata
                                                              ?__main printf .rdata$zzz.rdata$zzz
```
 PS:应当是机器码，但git bash只能显示出乱码

**链接	**																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												
* 通过gcc  Level_0-2.o -o Level_0-2命令转化为可执行文件.out
* 在命令提示符中运行.exe文件得到![image-20230905124134032](C:\Users\86150\AppData\Roaming\Typora\typora-user-images\image-20230905124134032.png)

**收获**

​		原来从源程序到可执行文件是这么复杂的一个过程，但IDE将其转化为点一下鼠标就能解决的事情，感觉真的挺有意思的，可能这就是编程的魅力，将任何复杂的东西转化为输入、输出，再转化为人们最简单、最容易理解的形式，希望或许在以后学了更多知识之后自己也能做个编译器或IDE（？）
​		**在学的过程中并不是我想的那么枯燥，反而每遇到一个问题就上网搜索相应的解决方法，像是如何安装gcc、如何进行通过命令进行文件转换、如何通过cat命令查看文件内容。（PS:找对合适的视频真的很重要）。在苦苦寻找之后找到最终正确的思路，让我觉得每一个步骤的实现都是一件很令人兴奋、很有成就感的事情**，甚至忘了时间就一直找解决方法搞得有点上头，军训差点迟到了。。。

# Level1-2

**文件写入**

基本格式

```c
	FILE *fp = fopen("D:\\dian\\Level1-1.txt","r");
	fscanf(fp,"%d %d %d", &ef, &bf, &tf);
	fclose(fp);


```



指针用来存放文件的地址，使用fscanf 和fclose函数录入数据，**不知道如何不录入fscanf中的elevator,所以没有加入elevator**





# Level1-3

**学习路线**：

首先对各种算法进行了粗略的思考（**基于本电梯满载4人而最多有10人呼叫的情况**,**认为应当优先考虑减少乘客人数**）

* scan算法（一上一下）有可能会出现一个人从2楼到1楼，但一直要坐到10楼再坐回1楼，且占用一个电梯位置，该算法对于此类情况既不考虑上电梯人的感受，也容易降低电梯效率

* FCFS（先到先服务）过度考虑上电梯人的感受，电梯效率过低

* **所以采取最近楼层搜索策略（便于减少满载的情况）**（但chatgpt、csdn、github代码看不懂一点，所以按自己想法写了）

* **基本想法：在未满载情况下同时对目的楼层和初始楼层进行搜索，寻找与当前电梯距离最短的楼层并优先前往，目的是为了尽量满足满载和效率，部分忽略乘客感受。**

* **在满载情况下优先满足最近楼层的乘客，接着重复上一步。**



* **代码实现**

  1. 录入数据，分为3个数组，beginfloor[]和aimfloor[]用于储存基础数据，aim2floor[]在乘客上梯后录入数据
  2. **通过最短距离测算mindistance（电梯楼层和初始楼层间最短距离）、mindistance2（电梯现在楼层和目标楼层），接着判断接下来前往的楼层**，**共有四种可能性(注:1表示mindistance,2表示mindistance2): 1 < 2; 1 > 2; 1 = 2(又分两种，目标楼层和初始楼层是否相同)**
  3. 用while循环运行直到数组aim2floor[]、beginfloor[]中数值全部是初始值后结束运行
  4. 修改细节部分：例如n人初始楼层与目的楼层相同、n人目的楼层或初始化楼层等保证程序从正常运行

* bug修改

  * 当距离一样时，如此时在第三层，那优先考虑第二层还是第四层呢？

  感觉这和该乘客的目的楼层有很大关系（因为优先查找最近楼层），但这只有乘客上电梯后才能知晓，故没有做修改

  * 当目的楼层和初始楼层距离当下楼层时间相同时，且方向不一致时应当优先考虑目的楼层

  * 退出不能people ==0时，可能空载但仍有人等待
    解决：加上break函数

  * if语句只执行一次，while语句当people变量在4附近反复横跳时并不能使while语句反复执行，

    解决：再加一个大的while循环，并使用重复的停止方法

  * 如果n个人的目的地一致，people应当减n，而非减1；同样，如果n个人目的地一致且该楼层有一个人上电梯，那么people数量也非保持不变。
    解决：引入一个数组memory[]，记录相同的目的楼层的数量number，以此人数可以-number
  
* **总结**

  * 之前的时间快速看完循环、数组、函数等，**9月8日构思，9月9日军训休息一整天＋9.10拉练下午休息时间才写出了这个程序，感觉问题还是非常多，但暂时得不到解决只好先记录下来**。==觉得是自己学习的方法出了问题,于是先去各种地方查找资料和方法再进行Level2-1编写==

  * bug问题：
    * 考虑不够周全导致稍微加一组数据进来就会各种各样的bug,再在原来的代码上修改又花费不少时间，有些甚至要推翻源代码重做，应当在构思之前先多想不同极端情况的数据。
    * bug调试时间过长，有时候if语句一个==写成了=，<写成=号导致代码迟迟调试不出，浪费了大量时间，可能本身没什么经验吧，以后要记住；然后调试方法欠缺导致有时候重复调试却缺乏成效。

  ​    ==因此考虑先对基本的调试方法进行学习，力求提高整体效率，再进行Level2-1的程序编写==
  
  * 代码问题

    * 存在大量重复语段：但我暂时不知道如何使代码变简短
    * 每次都得遍历数组得到想要的结果导致for(i=1;i<10;i++)反复出现，不知道有没有什么快捷的方法
  * 效率问题
    * 花的时间太长了，感觉有时候一些小点比如让程序停下来都要花一定时间，可能有些方法还要在以后学习别人的代码中去理解
    ==考虑学习一些工具或方法再进行Level2-1的程序编写==
  
* ==补充（zhihu、csdn搜索总结）==

  * **程序流程图设计**（将在Level2-1中使用）
    * 软件选择 draw.io
  * **debug效率提升**
    * **遇到问题深吸一口气，做好调试一天的准备**
    * 写一点测一点不要贪多
    * 提前想好测试数据和常见极限情况，不要遇到问题再去改
    * 善用printf。
      * 模拟一组数据进行手算，并且打印认为最容易出错的变量
      * 善用\t可以使输出更加清晰明了
    * 减少语法错误：eg.条件判断写=,数组最大下标判断错
    * 切记盲目调试，反复输入数据，每次输入都要能发现不一样的点
  * **Stack Overflow学习**（提升问题解决能力和bug修改能力）（参考知乎）
    * **辅助工具：有道词典**
    * 先在google搜索，搜不到再使用此软件
    * 不要在问题中鸣谢
    * 搜索方式
      * 你使用的编程语言是什么→定位你在做什么事情中遇到了问→复制错误信息
    * 提问方式：
      * 谦虚表达自己在某方面的经验→找了很久未果，求助攻→找了N种方法都发现无用→说明自己是努力搜索过的，然后目前有了哪几种方案→试了很多种方法都无效，求助→我的做法是否正确，是否有更好的法子→Thanks in advance.	



# Level2-1

* 思路(==9.22得知不止10个人，所以原程序除了核心思想基本全部报废（删除线部分），得知最新信息后立马重写，写到9.23的1:21完成，再加上工训只有小半天不到的时间调试，可能还存在一些bug==,**尽力了**)
  * ~~感觉除了增加时间间隔外其他基本没有变化，所以沿用之前思路~~
  
  * ~~问题：不知道如何让scanf限制只读入数字而不读入elevator，所以**输入时没加入elevator，而是让程序自动打印elevator**~~
  
  * ~~**增加一个ti[]表示时间**（由于1楼可表示一个单位时间），所以和目的楼层、起始楼层一起与电梯现在所处楼层进行比对~~
  
  * ~~**基本思路：假设这样一个最简单的情况：A从3楼到9楼，且在两个单位时间即到达5楼时，B发出请求，那么将B的起始楼层和A的目的楼层利用count函数计算两者距离5楼的距离，并优先前往距离近的那一个，以此类推，直到找对最合适的楼层前往并打印其他延续Level1-3的方法**~~
  
  * ~~具体实现~~
    
    1. ~~初始化。寻找最短ti[i]，录入A的初始和目的楼层和time~~
    2. ~~前往A的目的楼层，并和ti[i]第二短楼层。电梯在请求响应后处于floor=ti[i]-time楼~~
    
  * ~~==思路转换：发现ti[i]表示间隔时间并不好计算，所以转化为实际时间，便于与目前的time进行比较，一旦小于便录入数据==~~
  
    ~~==核心：只有一个输出口：testtime(time +mindistance) > ti[jilu].即前往目标楼层的时间小于下一个人的按下按键时间==~~
  
  * ~~新具体实现：~~
  
    1. ~~初始化。people= 0时不断根据时间选择新的初始楼层前往，直到满足输出口的条件~~
    
    2. ~~循环。 此时people = 1 ,之后不断根据时间录入新的初始楼层，并判断新的目标楼层，满足输出口条件后输出~~
    
    3. ~~所有数据均已录入之后。 回归Level1-3的步骤进行计算~~
    
       
  
  1. 初始化：录入数据并比较与beginfloor[i]的最短距离，前往
  2. **进入循环：每增加一个单位时间，判断是否到达请求时间，之后判断是否到达初始楼层和目的楼层。再进行新的目的楼层和初始楼层的检索，循环进行**
  3. 退出循环：（真空期特例：请求数据仍存在但电梯已经停止运行，直接跳转到初始化重复1,2）
* 问题：
  * 如何在函数的定义中引入一个数组，涉及指针暂时跳过
  
* 细节

  * 使用流程图大大提升了编写效率（发现手写更方便所以并未电脑绘制）
  * \t格式化输出所有变量提升了查找bug效率
  * 复制Level1-3代码时经常出现和Level2-1中细节不一致或者导致反复调试，需要避免
  * 写一点调一点的方式让代码不会像Level1-3中难以查找

# Level2-2

本来进展非常困难，9.22突发事件又转向Level2-1,导致2-2实在是完成不了了，以下是编写过程中的思路：

感觉和给出链接中的Look算法很像，但搜索chatgpt查看look算法的基本代码发现还是看不懂。。。所以还是按自己想法写了。

**首先增加了向上向下按键不同于之前，可以通过电梯反复进行直上直下提升运行效率，而不用进行最近楼层检索，过程中能顺便载人就载人**

* 思路
  * 核心：==放弃Level1-3,Level2-1中只进行关键楼层加减输出结果的方式，采用每一个单位时间检索一次所有请求的方式，使程序易于编写==
  
  * 引入updown[]数组用来表示请求人按的是向上还是向下按键

  * 电梯运行共有三大情况九种小类：（用0表示停止，1表示向上，-1表示向下）
  
    * 两部电梯均在运行：一上一下，一下一上，两上，两下（优先检索同方向且在范围内的，如果都不在范围内数据暂存）
    * 一部电梯在运行：一上一停，一下一停，一停一上，一停一下（优先考虑同方向且在范围内，否则停止电梯开始运行）
    * 没电梯在运行：两停（优先检索最近楼层）
  
  * ==困难主要出现在两部电梯上，如何合理满足优先级，提升综合效率是考虑重点==
    
    ​	
  
* 具体实现
  1. updown数组录入1,-1
  
  2. 初始化：仿照Level2-1，最近电梯前往初始楼层，并且一旦设定目标楼层后电梯运行状态不更改，直到到达相应楼层
  
  3. 分为两种大类：所有乘客时间均已到达,begin2floor已全部录入和时间尚未到。再分两种小类，超载or不超载
  
  4. 采用每个单位时间检索一次的方法，两部电梯分别处于动态或静止时在程序中给出相应判断。
  
  5. **困难：电梯数量的增加两部电梯可能出现大量相互干扰的情况**
  
     
  

# 总结（复盘）

1、整体过程：当时学习过程中只把循环、数组、函数等基本知识学完就开始写程序了，**Level1-3、Level2-1基本都是以数组和条件判断实现的**。感觉确实是比较艰难，很多时候明知道这样写、这样遍历是不太好的做法，**但我只学过这些东西，只能硬着头皮去做**，有时候确实很痛苦，即使经过一次次的思考优化但还是进展缓慢。或许再多学一点知识，就能找到更漂亮的方法，写出更优美的程序。==即使没有进入dian,我在日后也一定会不断去尝试更新这些程序==

2、程序编写过程：**我发现掌握更多的知识或许比蒙头想更重要。直到我前不久看到群内偶尔出现的代码中包含不同于<stdio.h>的库，我才第一次知道原来还可以引入新的库**，像发现新大陆一样。引入一些新的函数进行编写，且不说简不简单吧，至少不知道是不可能回去用的。**多学一点，多看一点，多想一点会成为我下一阶段的目标**。

==**3.收获：每天花费将近一半休息时间去完成dian的任务，我曾经多次想过到底值不值得，我后来明白了，如果只将加入dian看成自己的所有目的时，那一切都会变性。而如果是看成自己学习能力，编程能力的迭代性发展能力的提升的话，dian只是正好提供了这样一个难得的机会，让我能够通过这份任务去提升自己，而自身的提升才会得到dian的认可，而不是努力去迎合dian的认可，想清楚了这一点，便能沉浸于编程,沉浸于学习**==

# 无论加入与否，先谢谢dian的这次考核吧！


​		

​		

​				